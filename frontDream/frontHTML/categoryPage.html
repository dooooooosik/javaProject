<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê¿ˆ ì¹´í…Œê³ ë¦¬</title>
  <!-- CSS ê²½ë¡œ -->
  <link rel="stylesheet" href="/css/categoryPage.css">
</head>
<body>
  <a href="mainPage.html" class="back-link">â† ë’¤ë¡œ ê°€ê¸°</a>
  <header>
    <nav class="user-menu">
      <button id="auth-btn" class="top-bar-button"></button>
    </nav>
    <div class="top-bar">
      <h1 class="title">ì˜¤ëŠ˜ ë‚´ê°€ ê¾¼ ê¿ˆì€?</h1>
    </div>
  </header>

  <main>
    <div class="search-container">
      <input type="text" id="search-input" placeholder="í‚¤ì›Œë“œ ê²€ìƒ‰">
    </div>
    <div class="category-container">
      <div class="category" data-category="ì‹ ì²´">
        <div class="category-img">ğŸ’ª</div>
        <div class="category-text">ì‹ ì²´ì™€ ê´€ë ¨ëœ ê¿ˆ</div>
      </div>
      <div class="category" data-category="ë™ë¬¼">
        <div class="category-img">ğŸ¦Š</div>
        <div class="category-text">ë™ë¬¼ì´ ë“±ì¥í•˜ëŠ” ê¿ˆ</div>
      </div>
      <div class="category" data-category="ì‹ë¬¼">
        <div class="category-img">â˜˜ï¸</div>
        <div class="category-text">ì‹ë¬¼ê³¼ ê´€ë ¨ëœ ê¿ˆ</div>
      </div>
      <div class="category" data-category="ìŒì‹">
        <div class="category-img">ğŸ±</div>
        <div class="category-text">ìŒì‹ì´ ë‚˜ì˜¤ëŠ” ê¿ˆ</div>
      </div>
    </div>
    
    <br>
    
    <div class="category-container">
      <div class="category" data-category="í–‰ë™">
        <div class="category-img">ğŸƒâ€â™€ï¸</div>
        <div class="category-text">íŠ¹ì • í–‰ë™ì„ í•˜ëŠ” ê¿ˆ</div>
      </div>
      <div class="category" data-category="ì¸ë¬¼">
        <div class="category-img">ğŸ‘©â€ğŸ¦°</div>
        <div class="category-text">ì–´ë–¤ ì¸ë¬¼ì´ ë“±ì¥í•˜ëŠ” ê¿ˆ</div>
      </div>
      <div class="category" data-category="ìì—°í˜„ìƒ">
        <div class="category-img">ğŸŒ</div>
        <div class="category-text">ìì—°í˜„ìƒê³¼ ê´€ë ¨ëœ ê¿ˆ</div>
      </div>
      <div class="category" data-category="ì¥ì†Œ">
        <div class="category-img">ğŸ›</div>
        <div class="category-text">íŠ¹ì • ì¥ì†Œì—ì„œì˜ ê¿ˆ</div>
      </div>
    </div>
  </main>

  <script>
    // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
    document.addEventListener("DOMContentLoaded", function () {
      const isLoggedIn = localStorage.getItem("isLoggedIn");
      const authBtn = document.getElementById("auth-btn");

      if (isLoggedIn) {
        // ë¡œê·¸ì¸ ìƒíƒœ
        authBtn.textContent = "ë¡œê·¸ì•„ì›ƒ";
        authBtn.addEventListener("click", function () {
          localStorage.removeItem("isLoggedIn");
          window.location.href = "mainPage.html";
        });
      } else {
        // ë¹„ë¡œê·¸ì¸ ìƒíƒœ
        authBtn.textContent = "ë¡œê·¸ì¸";
        authBtn.addEventListener("click", function () {
          window.location.href = "loginPage.html";
        });
      }
    });

    // ê²€ìƒ‰ì°½ Enter í‚¤ ì…ë ¥ ì²˜ë¦¬
    document.getElementById("search-input").addEventListener("keypress", function(event) {
      if (event.key === "Enter") {
        const keyword = document.getElementById("search-input").value.trim();

        if (!keyword) {
          alert("ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        // ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
        window.location.href = `searchResult.html?keyword=${encodeURIComponent(keyword)}`;
      }
    });

    // ì¹´í…Œê³ ë¦¬ í´ë¦­ ì‹œ ì²˜ë¦¬
    document.querySelectorAll(".category").forEach(category => {
      category.addEventListener("click", function() {
        const categoryName = this.dataset.category;

        // ì¹´í…Œê³ ë¦¬ ì´ë¦„ì— ë”°ë¼ HTML íŒŒì¼ë¡œ ì´ë™
        switch (categoryName) {
          case "ì‹ ì²´":
            window.location.href = "bodyCategory.html";
            break;
          case "ë™ë¬¼":
            window.location.href = "animalCategory.html";
            break;
          case "ì‹ë¬¼":
            window.location.href = "plantCategory.html";
            break;
          case "ìŒì‹":
            window.location.href = "foodCategory.html";
            break;
          case "í–‰ë™":
            window.location.href = "actionCategory.html";
            break;
          case "ì¸ë¬¼":
            window.location.href = "peopleCategory.html";
            break;
          case "ìì—°í˜„ìƒ":
            window.location.href = "natureCategory.html";
            break;
          case "ì¥ì†Œ":
            window.location.href = "placeCategory.html";
            break;
        }
      });
    });
  </script>
</body>
</html>